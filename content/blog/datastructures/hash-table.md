---
title: "[DS] í•´ì‹œ í…Œì´ë¸”(Hash table)"
date: 2020-10-30 13:10:82
category: datastructures
thumbnail: { thumbnailSrc }
draft: false
---
## í•´ì‹œ í…Œì´ë¸”(Hash table)

- ìŒìœ¼ë¡œ ì´ë¤„ì§„ ê°’ë“¤ì˜ ë¦¬ìŠ¤íŠ¸
- keyì™€ valueë¡œ êµ¬ì„±
- í•´ì‹œ í…Œì´ë¸” = í•´ì‹œ = ë§µ = í•´ì‹œ ë§µ = ë”•ì…”ë„ˆë¦¬ = ì—°ê´€ ë°°ì—´
<br/>

### ì‚¬ìš© ëª©ì 
- íš¨ìœ¨ì ì¸ ë°ì´í„° ê´€ë¦¬ ê°€ëŠ¥
  - ë¬´í•œì— ê°€ê¹Œìš´ ë°ì´í„°ë“¤ì„ ìœ í•œí•œ ê°œìˆ˜ì˜ í•´ì‹œê°’ìœ¼ë¡œ ë§¤í•‘ -> ì‘ì€ í¬ê¸°ì˜ ìºì‹œ ë©”ëª¨ë¦¬ë¡œë„ í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬ ê°€ëŠ¥ 
- ë°ì´í„° ì²˜ë¦¬ ì†ë„ê°€ ë¹ ë¦„ 

### í•´ì‹±

ë¬¸ìë¥¼ ìˆ«ìë¡œ ë³€í™˜
<br/>

### í•´ì‹œ í•¨ìˆ˜

- ë¬¸ìë¥¼ íŠ¹ì • ìˆ«ìë¡œ ë³€í™˜í•˜ëŠ”ë° ì‚¬ìš©í•œ ì½”ë“œ
  - Hash code: f(x): keys -> integers
    - Memory address
    - Integer Cast
    - Component sum
      - keyë¥¼ íŠ¹ì • ê¸¸ì´ì˜ ì»´í¬ë„ŒíŠ¸ë¡œ ë‚˜ëˆˆë‹¤ìŒ ê° ì»´í¬ë„ŒíŠ¸ë¥¼ ë”í•œë‹¤ (overflow ë¬´ì‹œ)
      - integer typeì˜ bitì™€ ê°™ê±°ë‚˜ ë” ê¸´ ê¸¸ì´ë¥¼ ê°–ê³ ìˆëŠ” numeric keyì— ì í•© (e.g. javaì˜ long, double)
    - Polynomial accumulation
      - ì¶©ëŒì„ í”¼í•˜ëŠ”ë° ìœ ë¦¬í•¨ 
  - Compression function: g(x): integers -> [O, N-1]
    - h(x) = g(f(x))
    - ë‹¤ë¥¸ ì‚¬ëŒì´ ì‚¬ìš©í•œ ì¢‹ì€ hash codeê°€ ìˆë‹¤ë©´ compression functionì„ ì‚¬ìš©í•´ì„œ ì¬í™œìš©í•  ìˆ˜ ìˆìŒ
- ë™ì¼í•œ ë¬¸ìì—´ì„ ë°›ìœ¼ë©´ í•­ìƒ ë™ì¼í•œ ìˆ«ìë¥¼ ë°˜í™˜í•´ì•¼ í•¨
- ì¶©ëŒì„ í”¼í•˜ê²Œ keyë¥¼ ë¶„ì‚°ì‹œí‚¤ëŠ” ê²ƒì´ ëª©ì  
e.g. h(x) = x mod N
e.g. h(x) = last four digits of x



<br/>

### ë°ì´í„° ì €ì¥

1. í‚¤ì— í•´ì‹œ í•¨ìˆ˜ ì ìš©
2. valueë¥¼ í•´ì‹œ í•¨ìˆ˜ì—ì„œ ë°˜í™˜ëœ ê°’ ì¸ë±ìŠ¤ì— ì €ì¥


### ë°ì´í„° ê²€ìƒ‰

1. function["apple"]ì—ì„œ appleì„ í•´ì‹±
2. í•´ì‹œ í•¨ìˆ˜ê°€ ë°˜í™˜í•œ ê°’ì˜ ì¸ë±ìŠ¤ë¡œ ê°€ì„œ ì €ì¥ë˜ì–´ ìˆëŠ” ê°’ì„ ë°˜í™˜

ğŸ’¡ í‚¤ë¥¼ ì´ìš©í•˜ë©´ ë°”ë¡œ ê²€ìƒ‰í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— ì‹œê°„ë³µì¡ë„ëŠ” $O(1)$ì´ë‹¤.

**But**, í•´ì‹œí…Œì´ë¸”ì— ì¶©ëŒì´ ì¼ì–´ë‚˜ ëª¨ë“  ë°ì´í„°ê°€ í•´ì‹œ í…Œì´ë¸”ì˜ í•œ ì…€ì— ë“¤ì–´ê°„ë‹¤ë©´ $O(n)$ ì†Œìš”

<br/>

### ì¶©ëŒ

í•´ì‹œ í•¨ìˆ˜ê°€ ë°˜í™˜í•˜ëŠ” ê°’ì´ ë™ì¼í•˜ì—¬ ì´ë¯¸ ì±„ì›Œì§„ ì…€ì— ë°ì´í„°ë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒ

ğŸ˜ ë¶„ë¦¬ ì—°ê²°ë²•ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆë‹¤.


### ë¶„ë¦¬ ì—°ê²°ë²•(Seperate Chaining)

- **ê°œë°© í•´ìŠ ë˜ëŠ” Open Hashing ê¸°ë²•** ì¤‘ í•˜ë‚˜: í•´ì‰¬ í…Œì´ë¸” ì €ì¥ê³µê°„ ì™¸ì˜ ê³µê°„ì„ í™œìš©í•˜ëŠ” ê¸°ë²•
  - ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸
    - ì¶©ëŒì´ ì¼ì–´ë‚˜ë©´, ë§í¬ë“œ ë¦¬ìŠ¤íŠ¸ë¡œ ë°ì´í„°ë¥¼ ì¶”ê°€ë¡œ ë’¤ì— ì—°ê²°ì‹œì¼œì„œ ì €ì¥
    ```python
    hash_table = list([0 for i in range(8)])

    def get_key(data):
        return hash(data)

    def hash_function(key):
        return key % 8

    def save_data(data, value):
        index_key = get_key(data)
        hash_address = hash_function(index_key)
        if hash_table[hash_address] != 0:
            for index in range(len(hash_table[hash_address])):
                if hash_table[hash_address][index][0] == index_key:
                    hash_table[hash_address][index][1] = value
                    return
            hash_table[hash_address].append([index_key, value])
        else:
            hash_table[hash_address] = [[index_key, value]]
        
    def read_data(data):
        index_key = get_key(data)
        hash_address = hash_function(index_key)

        if hash_table[hash_address] != 0:
            for index in range(len(hash_table[hash_address])):
                if hash_table[hash_address][index][0] == index_key:
                    return hash_table[hash_address][index][1]
            return None
        else:
            return None
    ```

  - ë°°ì—´
    - ì¶©ëŒì´ ë°œìƒí–ˆì„ ë•Œ ì…€ì— í•˜ë‚˜ì˜ ê°’ì„ ë„£ëŠ” ëŒ€ì‹  ë°°ì—´ë¡œì˜ ì°¸ì¡°ë¥¼ ì €ì¥ 
      1. í‚¤ë¥¼ í•´ì‹±
      2. í•´ë‹¹ ì£¼ì†Œì— ê°’ì´ ì•„ë‹Œ ë°°ì—´ë“¤ì˜ ë°°ì—´ì´ ìˆìŒ ë°œê²¬
            - ë°°ì—´ë“¤ì˜ ë°°ì—´:  ê° ì¸ë±ìŠ¤ì— í•œ ìŒì˜ keyì™€ valueë¡œ êµ¬ì„±ëœ ë°°ì—´ ì¡´ì¬
      3. ë°°ì—´ë“¤ì˜ ë°°ì—´ì˜ í•˜ìœ„ ë°°ì—´ì—ì„œ keyë¥¼ í™•ì¸í•˜ë©° ì¼ì¹˜í•˜ëŠ” keyë¥¼ ì°¾ì„ ë•Œê¹Œì§€ ê²€ìƒ‰, keyê°€ ìˆëŠ” ë°°ì—´ì˜ ì¸ë±ìŠ¤ 1ì— ìˆëŠ” valueë¥¼ ë°˜í™˜

<br/>

### ê°œë°© ì£¼ì†Œë²•(Open Addressing)
- í•´ì‰¬ í…Œì´ë¸” ì €ì¥ê³µê°„ ì•ˆì—ì„œ ì¶©ëŒ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ê¸°ë²•
- hash table arrayì˜ ë¹ˆê³µê°„ì„ ì‚¬ìš© 
- Linear Probing(ì„ í˜• íƒìƒ‰)
  - **íì‡„ í•´ìŠ ë˜ëŠ” Close Hashing ê¸°ë²•** ì¤‘ í•˜ë‚˜ 
  - í•´ì‹œ ì¶©ëŒ ì‹œ, í•´ë‹¹ hash addressì˜ ë‹¤ìŒ addressë¶€í„° ë§¨ ì²˜ìŒ ë‚˜ì˜¤ëŠ” ë¹ˆê³µê°„ì— ë°ì´í„°ë¥¼ ì‚½ì… 
    - ì €ì¥ê³µê°„ í™œìš©ë„ê°€ ë†’ë‹¤. 
- Quadratic Probing(ì œê³± íƒìƒ‰)
  - í•´ì‹œì¶©ëŒ ì‹œ ì œê³±ë§Œí¼ ê±´ë„ˆë›´ ë²„ì¼“ì— ë°ì´í„°ë¥¼ ì‚½ì…(1,4,9,16..)
- Double Hahsing(ì´ì¤‘ í•´ì‹œ)
  - í•´ì‹œì¶©ëŒ ì‹œ ë‹¤ë¥¸ í•´ì‹œí•¨ìˆ˜ë¥¼ í•œ ë²ˆ ë” ì ìš©í•œ ê²°ê³¼ë¥¼ ì´ìš©

### í•´ì‹œ í…Œì´ë¸”ì˜ íš¨ìœ¨ì„± ê²°ì • ìš”ì¸

- í•´ì‹œ í…Œì´ë¸”ì— ì €ì¥í•˜ëŠ” ë°ì´í„°ì˜ ìˆ˜
- í•´ì‹œ í…Œì´ë¸”ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ì…€ì˜ ìˆ˜
    - ì‚¬ìš©ê°€ëŠ¥í•œ ì…€ì´ ì ì€ë° ë§ì€ ë°ì´í„°ë¥¼ ì €ì¥í•˜ë©´ ë¹„íš¨ìœ¨ì 
- ì‚¬ìš©í•˜ëŠ” í•´ì‹œ í•¨ìˆ˜ì˜ ì¢…ë¥˜
    - ì…€ì˜ ê°¯ìˆ˜ëŠ” 100ì¸ë° í•´ì‹œ í•¨ìˆ˜ì˜ return ê°’ì´ 1~9 ì‚¬ì´ì˜ ìˆ«ìë¼ë©´ ë¹„íš¨ìœ¨ì 
    - ì¢‹ì€ í•´ì‹œí•¨ìˆ˜ = ì‚¬ìš© ê°€ëŠ¥í•œ ëª¨ë“  ì…€ì— ë°ì´í„°ë¥¼ ë¶„ì‚°ì‹œí‚¤ëŠ” í•¨ìˆ˜

ğŸ’¡ í•´ì‹œí…Œì´ë¸” ì„¤ê³„ì‹œ ë©”ëª¨ë¦¬ ë‚­ë¹„ì™€ ì¶©ëŒ ëª¨ë‘ ê³ ë ¤í•´ì•¼ í•œë‹¤.

<br/>

### ë¶€í•˜ìœ¨

ë°ì´í„°ì™€ ì…€ ê°„ ë¹„ìœ¨

- ë¶€í•˜ìœ¨ì„ ì •í•´ë†“ìœ¼ë©´ ë°ì´í„°ê°€ ìƒˆë¡œìš´ ì…€ë“¤ì— ê· ë“±í•˜ê²Œ ë¶„ì‚°ë˜ì–´ ì €ì¥ë˜ë„ë¡ í•´ì‹œ í…Œì´ë¸”ì„ í™•ì¥í•  ìˆ˜ ìˆìŒ

<br/>

### í•´ì‹œí…Œì´ë¸”ì„ ì§‘í•©ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸°

ê° ë°ì´í„°ë¥¼ í•´ì‹œ í…Œì´ë¸”ì˜ key, valueì—ëŠ” true ë“± booleanê°’ í• ë‹¹

```jsx
var set = {};
set["candy"] = 1;
set["chocolate"] = 1; // O(1)ì— ì‚½ì… ê°€ëŠ¥

/*ì´ë¯¸ ìˆëŠ” í‚¤ë¥¼ ì¶”ê°€í•œë‹¤ë©´*/
set["candy"] = 1; // O(1)ì— ì‚½ì… ê°€ëŠ¥, ë®ì–´ì“°ê¸° ë•Œë¬¸ì— ê²€ìƒ‰ì´ í•„ìš”ì—†ë‹¤
```


### ì˜ˆì œ: ì¹´ì¹´ì˜¤í†¡ íˆ¬í‘œ ê¸°ëŠ¥ (í•­ëª© ì¶”ê°€ ê°€ëŠ¥)

```jsx
var votes = {};

function addVote(candidate) {
  if(votes[candidate]) {    // ì´ë¯¸ í•­ëª©ì´ ìˆìœ¼ë©´
    votes[candidate]++;     // íˆ¬í‘œìˆ˜ ì¶”ê°€
  } else {
    votes[candidate] = 1;   // ì—†ìœ¼ë©´ 1 ë°°ì •
  }
}

function countVotes() {
  return votes;             // ê° í‚¤ì— ë“í‘œìˆ˜ê°€ ì €ì¥ë˜ì–´ ìˆëŠ” í•´ì‹œí…Œì´ë¸” ë°˜í™˜
}
```
#

***Source***  
- A Common-Sense Guide to Data Structures and Algorithms
- Data Structures and Algorithms in Java
- [yjshin tistory blog](https://yjshin.tistory.com/entry/%EC%95%94%ED%98%B8%ED%95%99-%ED%95%B4%EC%8B%9C-%ED%95%A8%EC%88%98-%EC%9E%91%EC%84%B1-%EC%A4%91)
- [ì”ì¬ë¯¸ì½”ë”©](https://www.fun-coding.org/Chapter09-hashtable-live.html)
- [Preamtreeì˜ í–‰ë³µë¡œê·¸](https://preamtree.tistory.com/20)